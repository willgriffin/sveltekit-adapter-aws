#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const child_process_1 = require("child_process");
const path_1 = require("path");
const dotenv_1 = require("dotenv");
const env = (0, dotenv_1.config)({ path: (0, path_1.join)(process.cwd(), '.env') }).parsed;
const artifactPath = 'build';
const static_directory = (0, path_1.join)(artifactPath, 'assets');
const prerendered_directory = (0, path_1.join)(artifactPath, 'prerendered');
const server_directory = (0, path_1.join)(artifactPath, 'server');
(0, child_process_1.spawnSync)('npx', ['cdk', 'destroy', '--app', `${__dirname}/../deploy/index.js`, '*', '--force'], {
    cwd: __dirname,
    stdio: [process.stdin, process.stdout, process.stderr],
    env: Object.assign(Object.assign({ SERVER_PATH: (0, path_1.join)(process.cwd(), server_directory), STATIC_PATH: (0, path_1.join)(process.cwd(), static_directory), PRERENDERED_PATH: (0, path_1.join)(process.cwd(), prerendered_directory) }, env), process.env),
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVzdHJveS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImRlc3Ryb3kudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsaURBQTBDO0FBQzFDLCtCQUE0QjtBQUM1QixtQ0FBZ0M7QUFFaEMsTUFBTSxHQUFHLEdBQUcsSUFBQSxlQUFNLEVBQUMsRUFBRSxJQUFJLEVBQUUsSUFBQSxXQUFJLEVBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUM7QUFDakUsTUFBTSxZQUFZLEdBQUcsT0FBTyxDQUFDO0FBQzdCLE1BQU0sZ0JBQWdCLEdBQUcsSUFBQSxXQUFJLEVBQUMsWUFBWSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQ3RELE1BQU0scUJBQXFCLEdBQUcsSUFBQSxXQUFJLEVBQUMsWUFBWSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0FBQ2hFLE1BQU0sZ0JBQWdCLEdBQUcsSUFBQSxXQUFJLEVBQUMsWUFBWSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBRXRELElBQUEseUJBQVMsRUFBQyxLQUFLLEVBQUUsQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxHQUFHLFNBQVMscUJBQXFCLEVBQUUsR0FBRyxFQUFFLFNBQVMsQ0FBQyxFQUFFO0lBQy9GLEdBQUcsRUFBRSxTQUFTO0lBQ2QsS0FBSyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUM7SUFDdEQsR0FBRyxFQUFFLE1BQU0sQ0FBQyxNQUFNLGlCQUVkLFdBQVcsRUFBRSxJQUFBLFdBQUksRUFBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEVBQUUsZ0JBQWdCLENBQUMsRUFDbEQsV0FBVyxFQUFFLElBQUEsV0FBSSxFQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsRUFBRSxnQkFBZ0IsQ0FBQyxFQUNsRCxnQkFBZ0IsRUFBRSxJQUFBLFdBQUksRUFBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEVBQUUscUJBQXFCLENBQUMsSUFDekQsR0FBRyxHQUVSLE9BQU8sQ0FBQyxHQUFHLENBQ1o7Q0FDRixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIjIS91c3IvYmluL2VudiBub2RlXG5pbXBvcnQgeyBzcGF3blN5bmMgfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJ2RvdGVudic7XG5cbmNvbnN0IGVudiA9IGNvbmZpZyh7IHBhdGg6IGpvaW4ocHJvY2Vzcy5jd2QoKSwgJy5lbnYnKSB9KS5wYXJzZWQ7XG5jb25zdCBhcnRpZmFjdFBhdGggPSAnYnVpbGQnO1xuY29uc3Qgc3RhdGljX2RpcmVjdG9yeSA9IGpvaW4oYXJ0aWZhY3RQYXRoLCAnYXNzZXRzJyk7XG5jb25zdCBwcmVyZW5kZXJlZF9kaXJlY3RvcnkgPSBqb2luKGFydGlmYWN0UGF0aCwgJ3ByZXJlbmRlcmVkJyk7XG5jb25zdCBzZXJ2ZXJfZGlyZWN0b3J5ID0gam9pbihhcnRpZmFjdFBhdGgsICdzZXJ2ZXInKTtcblxuc3Bhd25TeW5jKCducHgnLCBbJ2NkaycsICdkZXN0cm95JywgJy0tYXBwJywgYCR7X19kaXJuYW1lfS8uLi9kZXBsb3kvaW5kZXguanNgLCAnKicsICctLWZvcmNlJ10sIHtcbiAgY3dkOiBfX2Rpcm5hbWUsXG4gIHN0ZGlvOiBbcHJvY2Vzcy5zdGRpbiwgcHJvY2Vzcy5zdGRvdXQsIHByb2Nlc3Muc3RkZXJyXSxcbiAgZW52OiBPYmplY3QuYXNzaWduKFxuICAgIHtcbiAgICAgIFNFUlZFUl9QQVRIOiBqb2luKHByb2Nlc3MuY3dkKCksIHNlcnZlcl9kaXJlY3RvcnkpLFxuICAgICAgU1RBVElDX1BBVEg6IGpvaW4ocHJvY2Vzcy5jd2QoKSwgc3RhdGljX2RpcmVjdG9yeSksXG4gICAgICBQUkVSRU5ERVJFRF9QQVRIOiBqb2luKHByb2Nlc3MuY3dkKCksIHByZXJlbmRlcmVkX2RpcmVjdG9yeSksXG4gICAgICAuLi5lbnYsXG4gICAgfSxcbiAgICBwcm9jZXNzLmVudlxuICApLFxufSk7XG4iXX0=